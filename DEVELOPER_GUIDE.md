# ğŸ“š Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø·ÙˆØ±ÙŠÙ† - Ù…Ø´Ø±ÙˆØ¹ Rahala

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª
- [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©)
- [Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ¦Ø©](#Ø¥Ø¹Ø¯Ø§Ø¯-Ø§Ù„Ø¨ÙŠØ¦Ø©)
- [Backend API](#backend-api)
- [Frontend Integration](#frontend-integration)
- [AI Tourism Service](#ai-tourism-service)
- [Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](#Ù‚Ø§Ø¹Ø¯Ø©-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
- [Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„Ø£Ù…Ø§Ù†](#Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©-ÙˆØ§Ù„Ø£Ù…Ø§Ù†)
- [Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…](#Ø§Ø®ØªØ¨Ø§Ø±-Ø§Ù„Ù†Ø¸Ø§Ù…)

---

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

**Rahala** Ù‡Ùˆ ØªØ·Ø¨ÙŠÙ‚ Ø³ÙŠØ§Ø­ÙŠ Ø°ÙƒÙŠ ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„ØªÙ‚Ø¯ÙŠÙ… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ© Ø´Ø§Ù…Ù„Ø© Ø¹Ù† Ø§Ù„ÙˆØ¬Ù‡Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ©.

### Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:
- ğŸ¤– **AI Tourism Assistant**: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ© Ø°ÙƒÙŠØ©
- ğŸ“¸ **Trip Management**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±Ø­Ù„Ø§Øª Ù…Ø¹ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª
- ğŸ‘¥ **Social Features**: ØªÙØ§Ø¹Ù„ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ (Ø¥Ø¹Ø¬Ø§Ø¨ØŒ ØªØ¹Ù„ÙŠÙ‚ØŒ Ù…Ø´Ø§Ø±ÙƒØ©)
- ğŸ” **Smart Search**: Ø¨Ø­Ø« Ø°ÙƒÙŠ Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ø±Ø­Ù„Ø§Øª
- ğŸ’³ **Promotions**: Ù†Ø¸Ø§Ù… ØªØ±ÙˆÙŠØ¬ Ø§Ù„Ø±Ø­Ù„Ø§Øª

---

## âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ¦Ø©

### Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…:
- Python 3.11+
- Django 5.2+
- PostgreSQL
- Redis
- Node.js (Ù„Ù„ÙØ±Ù†Øª Ø¥Ù†Ø¯)

### 1. Ø¥Ø¹Ø¯Ø§Ø¯ Backend:

```bash
# Ø§Ø³ØªÙ†Ø³Ø§Ø® Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
git clone <repository-url>
cd A-master

# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
python -m venv .venv
source .venv/Scripts/activate  # Windows
# source .venv/bin/activate     # Linux/Mac

# ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
pip install -r requirements.txt

# Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
python manage.py migrate

# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±
python manage.py runserver
```

### 2. Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© (.env):

```env
# Django Settings
SECRET_KEY=your-secret-key
DEBUG=True

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/rahala_db

# Email Configuration
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# Google OAuth2
GOOGLE_OAUTH2_CLIENT_ID=your-client-id
GOOGLE_OAUTH2_CLIENT_SECRET=your-client-secret

# OpenRouter AI Configuration
OPENROUTER_API_KEY=sk-or-v1-your-api-key
OPENROUTER_MODEL=gpt-oss-20b
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# PayMob Payment Gateway
PAYMOB_API_KEY=your-paymob-key
PAYMOB_INTEGRATION_ID=your-integration-id
PAYMOB_IFRAME_ID=your-iframe-id

# Redis
REDIS_URL=redis://localhost:6379/0
```

---

## ğŸ”§ Backend API

### Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:

```
A-master/
â”œâ”€â”€ accounts/           # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
â”œâ”€â”€ trip/              # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±Ø­Ù„Ø§Øª + AI Tourism
â”œâ”€â”€ interactions/      # Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©
â”œâ”€â”€ search/           # Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø°ÙƒÙŠ
â”œâ”€â”€ promotions/       # Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ±ÙˆÙŠØ¬
â”œâ”€â”€ Rahala/          # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
â””â”€â”€ media/           # Ù…Ù„ÙØ§Øª Ø§Ù„ÙˆØ³Ø§Ø¦Ø·
```

### ğŸ“ Trip API Endpoints:

#### Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© (Ù…Ø¹ AI Tourism):
```http
POST /api/trip/create/
Authorization: Bearer {access_token}
Content-Type: multipart/form-data

{
  "caption": "Ø±Ø­Ù„Ø© Ø±Ø§Ø¦Ø¹Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©",
  "location": "Cairo, Egypt",
  "tags": ["Ø³ÙŠØ§Ø­Ø©", "ØªØ§Ø±ÙŠØ®", "Ù…ØµØ±"],
  "images": [file1, file2],
  "videos": [file1]
}
```

#### Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©:
```json
{
  "id": 1,
  "user": "ahmed_traveler",
  "caption": "Ø±Ø­Ù„Ø© Ø±Ø§Ø¦Ø¹Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©",
  "location": "Cairo, Egypt",
  "country": "Ù…ØµØ±",
  "city": "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©",
  "tourism_info": {
    "description": "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Ù…Ø¯ÙŠÙ†Ø© Ù†Ø§Ø¨Ø¶Ø© Ø¨Ø§Ù„Ø­ÙŠØ§Ø© ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‚Ø¯ÙŠÙ… ÙˆØ§Ù„Ø­Ø¯Ø§Ø«Ø©...",
    "recommended_places": [
      "Ø£Ù‡Ø±Ø§Ù…Ø§Øª Ø§Ù„Ø¬ÙŠØ²Ø©",
      "Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ",
      "Ø®Ø§Ù† Ø§Ù„Ø®Ù„ÙŠÙ„ÙŠ",
      "Ù‚ØµØ± Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ"
    ],
    "warnings": [
      "Ø§Ø­Ø°Ø± Ù…Ù† Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ ÙÙŠ Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ©",
      "ØªØ¬Ù†Ø¨ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙÙŠ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø°Ø±ÙˆØ©"
    ],
    "best_time_to_visit": "Ù…Ù† Ø£ÙƒØªÙˆØ¨Ø± Ø¥Ù„Ù‰ Ù…Ø§Ø±Ø³",
    "local_tips": [
      "Ø§Ø³ØªØ®Ø¯Ù… ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø¹Ø§Ù… Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø²Ø­Ø§Ù…",
      "ØªØ£ÙƒØ¯ Ù…Ù† Ø´Ø±Ø¨ Ø§Ù„Ù…ÙŠØ§Ù‡ Ø§Ù„Ù…Ø¹Ù„Ø¨Ø©"
    ],
    "currency": "Ø§Ù„Ø¬Ù†ÙŠÙ‡ Ø§Ù„Ù…ØµØ±ÙŠ",
    "language": "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"
  },
  "created_at": "2024-01-15T10:30:00Z",
  "images": [...],
  "videos": [...],
  "tags": [...]
}
```

#### Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø­Ù„Ø§Øª:
```http
GET /api/trip/
Authorization: Bearer {access_token}
```

#### ØªÙØ§ØµÙŠÙ„ Ø±Ø­Ù„Ø©:
```http
GET /api/trip/{trip_id}/
Authorization: Bearer {access_token}
```

### ğŸ‘¤ Authentication API:

#### ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯:
```http
POST /api/accounts/register/
Content-Type: application/json

{
  "email": "user@example.com",
  "username": "newuser",
  "password": "SecurePass123!",
  "password_confirm": "SecurePass123!"
}
```

#### ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:
```http
POST /api/accounts/login/
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "SecurePass123!"
}
```

#### Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©:
```json
{
  "access": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "refresh": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "user": {
    "id": 1,
    "username": "newuser",
    "email": "user@example.com",
    "is_verified": false
  }
}
```

### ğŸ’¬ Interactions API:

#### Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ø¬Ø§Ø¨:
```http
POST /api/interactions/like/
Authorization: Bearer {access_token}

{
  "trip_id": 1
}
```

#### Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚:
```http
POST /api/interactions/comment/
Authorization: Bearer {access_token}

{
  "trip_id": 1,
  "content": "Ø±Ø­Ù„Ø© Ø±Ø§Ø¦Ø¹Ø©!"
}
```

---

## ğŸ¨ Frontend Integration

### React/Vue.js Integration:

#### 1. Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©:

```javascript
// React Example
const createTrip = async (tripData) => {
  const formData = new FormData();
  formData.append('caption', tripData.caption);
  formData.append('location', tripData.location);
  
  // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ±
  tripData.images.forEach(image => {
    formData.append('images', image);
  });
  
  // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ§Ø¬Ø§Øª
  tripData.tags.forEach(tag => {
    formData.append('tags', tag);
  });

  try {
    const response = await fetch('/api/trip/create/', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${accessToken}`
      },
      body: formData
    });
    
    const result = await response.json();
    
    if (response.ok) {
      // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ©
      displayTourismInfo(result.tourism_info);
      return result;
    }
  } catch (error) {
    console.error('Error creating trip:', error);
  }
};
```

#### 2. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ©:

```javascript
// Tourism Info Component
const TourismInfoCard = ({ tourismInfo, country, city }) => {
  return (
    <div className="tourism-info-card">
      <div className="location-header">
        <h3>{city}, {country}</h3>
      </div>
      
      <div className="description">
        <p>{tourismInfo.description}</p>
      </div>
      
      <div className="recommended-places">
        <h4>ğŸ›ï¸ Ø£Ù…Ø§ÙƒÙ† Ù…Ù‚ØªØ±Ø­Ø© Ù„Ù„Ø²ÙŠØ§Ø±Ø©:</h4>
        <ul>
          {tourismInfo.recommended_places.map((place, index) => (
            <li key={index}>{place}</li>
          ))}
        </ul>
      </div>
      
      <div className="warnings">
        <h4>âš ï¸ ØªØ­Ø°ÙŠØ±Ø§Øª Ù…Ù‡Ù…Ø©:</h4>
        <ul>
          {tourismInfo.warnings.map((warning, index) => (
            <li key={index} className="warning">{warning}</li>
          ))}
        </ul>
      </div>
      
      <div className="travel-info">
        <div className="info-item">
          <span>ğŸ’° Ø§Ù„Ø¹Ù…Ù„Ø©:</span> {tourismInfo.currency}
        </div>
        <div className="info-item">
          <span>ğŸ—£ï¸ Ø§Ù„Ù„ØºØ©:</span> {tourismInfo.language}
        </div>
        <div className="info-item">
          <span>ğŸ“… Ø£ÙØ¶Ù„ ÙˆÙ‚Øª Ù„Ù„Ø²ÙŠØ§Ø±Ø©:</span> {tourismInfo.best_time_to_visit}
        </div>
      </div>
      
      <div className="local-tips">
        <h4>ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù…Ø­Ù„ÙŠØ©:</h4>
        <ul>
          {tourismInfo.local_tips.map((tip, index) => (
            <li key={index}>{tip}</li>
          ))}
        </ul>
      </div>
    </div>
  );
};
```

#### 3. CSS Ù„Ù„ØªØµÙ…ÙŠÙ…:

```css
.tourism-info-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 15px;
  padding: 20px;
  margin: 20px 0;
  color: white;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.location-header h3 {
  font-size: 24px;
  margin-bottom: 15px;
  text-align: center;
}

.description {
  background: rgba(255,255,255,0.1);
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 20px;
}

.recommended-places, .warnings, .local-tips {
  margin-bottom: 15px;
}

.recommended-places ul, .warnings ul, .local-tips ul {
  list-style: none;
  padding: 0;
}

.recommended-places li, .local-tips li {
  background: rgba(255,255,255,0.1);
  padding: 8px 12px;
  margin: 5px 0;
  border-radius: 5px;
}

.warnings li {
  background: rgba(255,193,7,0.2);
  padding: 8px 12px;
  margin: 5px 0;
  border-radius: 5px;
  border-left: 4px solid #ffc107;
}

.travel-info {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 10px;
  margin: 15px 0;
}

.info-item {
  background: rgba(255,255,255,0.1);
  padding: 10px;
  border-radius: 8px;
  text-align: center;
}
```

---

## ğŸ¤– AI Tourism Service

### ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Ø§Ù„Ø®Ø¯Ù…Ø©:

#### 1. Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø®Ø¯Ù…Ø©:
```python
# trip/ai_services.py
class TourismAIService:
    def __init__(self):
        self.api_key = settings.OPENROUTER_API_KEY
        self.model = settings.OPENROUTER_MODEL
        self.base_url = settings.OPENROUTER_BASE_URL
    
    def get_destination_info(self, location: str) -> Dict[str, Any]:
        """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ© Ø´Ø§Ù…Ù„Ø©"""
        # Ø¥Ù†Ø´Ø§Ø¡ prompt Ù…Ø®ØµØµ
        # Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ OpenRouter API
        # ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
        # Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø¸Ù…Ø©
```

#### 2. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø®Ø¯Ù…Ø©:
```python
# ÙÙŠ views.py
from .ai_services import TourismAIService

def post(self, request, *args, **kwargs):
    # ... ÙƒÙˆØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø­Ù„Ø©
    
    # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ©
    if location:
        ai_service = TourismAIService()
        tourism_data = ai_service.get_destination_info(location)
        
        country = tourism_data.get('country', '')
        city = tourism_data.get('city', '')
        tourism_info = tourism_data.get('tourism_info', {})
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø­Ù„Ø© Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ©
    trip = Trip.objects.create(
        user=user,
        caption=caption,
        location=location,
        country=country,
        city=city,
        tourism_info=tourism_info
    )
```

#### 3. ØªØ®ØµÙŠØµ Ø§Ù„Ù€ Prompts:
```python
def _create_tourism_prompt(self, location: str) -> str:
    return f"""You are a tourism expert. Analyze: "{location}"
    
    Return ONLY valid JSON:
    {{
      "country": "Country in Arabic",
      "city": "City in Arabic",
      "tourism_info": {{
        "description": "Brief description in Arabic",
        "recommended_places": ["Place 1", "Place 2", ...],
        "warnings": ["Warning 1", "Warning 2"],
        "best_time_to_visit": "Best time in Arabic",
        "local_tips": ["Tip 1", "Tip 2"],
        "currency": "Currency in Arabic",
        "language": "Language in Arabic"
      }}
    }}"""
```

---

## ğŸ—„ï¸ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Trip Model:
```python
class Trip(models.Model):
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    caption = models.TextField(blank=True)
    location = models.CharField(max_length=255)
    
    # Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ© Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
    country = models.CharField(max_length=100, blank=True)
    city = models.CharField(max_length=100, blank=True)
    tourism_info = models.JSONField(default=dict, blank=True)
    
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
```

### Migration:
```bash
# Ø¥Ù†Ø´Ø§Ø¡ migration Ù„Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
python manage.py makemigrations trip

# ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
python manage.py migrate
```

---

## ğŸ” Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„Ø£Ù…Ø§Ù†

### JWT Authentication:
```python
# settings.py
SIMPLE_JWT = {
    'ACCESS_TOKEN_LIFETIME': timedelta(minutes=60),
    'REFRESH_TOKEN_LIFETIME': timedelta(days=1),
    'ROTATE_REFRESH_TOKENS': True,
}
```

### Permissions:
```python
# ÙÙŠ views.py
from accounts.permissons import IsVerifiedUser

class TripCreateAPIView(generics.CreateAPIView):
    permission_classes = [IsAuthenticated, IsVerifiedUser]
```

### CORS Configuration:
```python
CORS_ALLOWED_ORIGINS = [
    "http://localhost:3000",
    "http://127.0.0.1:3000",
    "http://localhost:8080",
]
```

---

## ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

### 1. Ø§Ø®ØªØ¨Ø§Ø± Backend:
```bash
# ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
python manage.py test

# Ø§Ø®ØªØ¨Ø§Ø± ØªØ·Ø¨ÙŠÙ‚ Ù…Ø­Ø¯Ø¯
python manage.py test trip

# Ø§Ø®ØªØ¨Ø§Ø± AI Service
python test_ai_tourism.py
```

### 2. Ø§Ø®ØªØ¨Ø§Ø± API:
```bash
# Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø­Ù„Ø© Ù…Ø¹ AI
python test_trip_api.py
```

### 3. Ø§Ø®ØªØ¨Ø§Ø± ÙŠØ¯ÙˆÙŠ:
```bash
# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±
python manage.py runserver

# Ø§Ø®ØªØ¨Ø§Ø± Endpoints
curl -X POST http://localhost:8000/api/trip/create/ \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -F "caption=Ø±Ø­Ù„Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©" \
  -F "location=Paris, France" \
  -F "images=@test_image.jpg"
```

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø© Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ†

### 1. Error Handling:
- Ø¬Ù…ÙŠØ¹ API calls Ù…Ø­Ù…ÙŠØ© Ø¨Ù€ try-catch
- Fallback data ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ AI
- Logging Ù…ÙØµÙ„ Ù„Ù„ØªØªØ¨Ø¹

### 2. Performance:
- Ø§Ø³ØªØ®Ø¯Ù… caching Ù„Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
- Optimize database queries
- Compress images Ù‚Ø¨Ù„ Ø§Ù„Ø±ÙØ¹

### 3. Security:
- ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©
- Rate limiting Ù„Ù„Ù€ API calls
- Sanitize user inputs

### 4. Monitoring:
- ØªØªØ¨Ø¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… OpenRouter API
- Monitor response times
- Log errors Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©

---

## ğŸš€ Ù†Ø´Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### Production Settings:
```python
# settings.py
DEBUG = False
ALLOWED_HOSTS = ['your-domain.com']

# Database
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'rahala_prod',
        'USER': 'postgres',
        'PASSWORD': 'your-password',
        'HOST': 'localhost',
        'PORT': '5432',
    }
}
```

### Docker Deployment:
```dockerfile
FROM python:3.11
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD ["gunicorn", "Rahala.wsgi:application"]
```

---

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø£Ùˆ Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´Ø§ÙƒÙ„:
- ğŸ“§ Email: support@rahala.com
- ğŸ“± GitHub Issues: [Repository Issues]
- ğŸ“š Documentation: [Full Documentation]

---

**ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ø£Ù†Øª Ø§Ù„Ø¢Ù† Ø¬Ø§Ù‡Ø² Ù„ØªØ·ÙˆÙŠØ± ÙˆØªØ­Ø³ÙŠÙ† Ù…Ø´Ø±ÙˆØ¹ Rahala!**

---

## ğŸ“± Mobile App Integration

### React Native Example:

```javascript
// TripService.js
class TripService {
  constructor(baseURL, token) {
    this.baseURL = baseURL;
    this.token = token;
  }

  async createTrip(tripData) {
    const formData = new FormData();

    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ©
    formData.append('caption', tripData.caption);
    formData.append('location', tripData.location);

    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ±
    tripData.images.forEach((image, index) => {
      formData.append('images', {
        uri: image.uri,
        type: 'image/jpeg',
        name: `image_${index}.jpg`
      });
    });

    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ§Ø¬Ø§Øª
    tripData.tags.forEach(tag => {
      formData.append('tags', tag);
    });

    try {
      const response = await fetch(`${this.baseURL}/api/trip/create/`, {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${this.token}`,
          'Content-Type': 'multipart/form-data',
        },
        body: formData
      });

      return await response.json();
    } catch (error) {
      throw new Error(`Failed to create trip: ${error.message}`);
    }
  }
}

// TourismInfoComponent.js
import React from 'react';
import { View, Text, ScrollView, StyleSheet } from 'react-native';

const TourismInfoComponent = ({ tourismInfo, country, city }) => {
  if (!tourismInfo) return null;

  return (
    <ScrollView style={styles.container}>
      <View style={styles.header}>
        <Text style={styles.locationTitle}>{city}, {country}</Text>
      </View>

      <View style={styles.section}>
        <Text style={styles.description}>{tourismInfo.description}</Text>
      </View>

      <View style={styles.section}>
        <Text style={styles.sectionTitle}>ğŸ›ï¸ Ø£Ù…Ø§ÙƒÙ† Ù…Ù‚ØªØ±Ø­Ø© Ù„Ù„Ø²ÙŠØ§Ø±Ø©</Text>
        {tourismInfo.recommended_places?.map((place, index) => (
          <Text key={index} style={styles.listItem}>â€¢ {place}</Text>
        ))}
      </View>

      <View style={styles.section}>
        <Text style={styles.sectionTitle}>âš ï¸ ØªØ­Ø°ÙŠØ±Ø§Øª Ù…Ù‡Ù…Ø©</Text>
        {tourismInfo.warnings?.map((warning, index) => (
          <Text key={index} style={styles.warningItem}>âš ï¸ {warning}</Text>
        ))}
      </View>

      <View style={styles.infoGrid}>
        <View style={styles.infoItem}>
          <Text style={styles.infoLabel}>ğŸ’° Ø§Ù„Ø¹Ù…Ù„Ø©</Text>
          <Text style={styles.infoValue}>{tourismInfo.currency}</Text>
        </View>
        <View style={styles.infoItem}>
          <Text style={styles.infoLabel}>ğŸ—£ï¸ Ø§Ù„Ù„ØºØ©</Text>
          <Text style={styles.infoValue}>{tourismInfo.language}</Text>
        </View>
      </View>

      <View style={styles.section}>
        <Text style={styles.sectionTitle}>ğŸ“… Ø£ÙØ¶Ù„ ÙˆÙ‚Øª Ù„Ù„Ø²ÙŠØ§Ø±Ø©</Text>
        <Text style={styles.timeToVisit}>{tourismInfo.best_time_to_visit}</Text>
      </View>

      <View style={styles.section}>
        <Text style={styles.sectionTitle}>ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù…Ø­Ù„ÙŠØ©</Text>
        {tourismInfo.local_tips?.map((tip, index) => (
          <Text key={index} style={styles.tipItem}>ğŸ’¡ {tip}</Text>
        ))}
      </View>
    </ScrollView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#f8f9fa',
  },
  header: {
    backgroundColor: '#667eea',
    padding: 20,
    borderRadius: 15,
    margin: 15,
  },
  locationTitle: {
    fontSize: 24,
    fontWeight: 'bold',
    color: 'white',
    textAlign: 'center',
  },
  section: {
    backgroundColor: 'white',
    margin: 10,
    padding: 15,
    borderRadius: 10,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
    elevation: 3,
  },
  sectionTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    marginBottom: 10,
    color: '#333',
  },
  description: {
    fontSize: 16,
    lineHeight: 24,
    color: '#555',
  },
  listItem: {
    fontSize: 14,
    marginVertical: 3,
    color: '#666',
  },
  warningItem: {
    fontSize: 14,
    marginVertical: 3,
    color: '#d63384',
    backgroundColor: '#f8d7da',
    padding: 8,
    borderRadius: 5,
  },
  tipItem: {
    fontSize: 14,
    marginVertical: 3,
    color: '#0f5132',
    backgroundColor: '#d1e7dd',
    padding: 8,
    borderRadius: 5,
  },
  infoGrid: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    margin: 10,
  },
  infoItem: {
    flex: 1,
    backgroundColor: 'white',
    padding: 15,
    margin: 5,
    borderRadius: 10,
    alignItems: 'center',
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
    elevation: 3,
  },
  infoLabel: {
    fontSize: 12,
    color: '#666',
    marginBottom: 5,
  },
  infoValue: {
    fontSize: 16,
    fontWeight: 'bold',
    color: '#333',
  },
  timeToVisit: {
    fontSize: 16,
    color: '#0066cc',
    fontWeight: '500',
  },
});

export default TourismInfoComponent;
```

---

## ğŸ”§ Advanced Backend Features

### 1. Caching System:

```python
# trip/cache_service.py
from django.core.cache import cache
import hashlib

class TourismCacheService:
    CACHE_TIMEOUT = 60 * 60 * 24  # 24 hours

    @staticmethod
    def get_cache_key(location: str) -> str:
        """Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØªØ§Ø­ cache ÙØ±ÙŠØ¯ Ù„Ù„Ù…ÙˆÙ‚Ø¹"""
        return f"tourism_info_{hashlib.md5(location.encode()).hexdigest()}"

    @staticmethod
    def get_cached_info(location: str):
        """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©"""
        cache_key = TourismCacheService.get_cache_key(location)
        return cache.get(cache_key)

    @staticmethod
    def cache_info(location: str, tourism_data: dict):
        """Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙŠ cache"""
        cache_key = TourismCacheService.get_cache_key(location)
        cache.set(cache_key, tourism_data, TourismCacheService.CACHE_TIMEOUT)

# Ø§Ø³ØªØ®Ø¯Ø§Ù… Cache ÙÙŠ AI Service
class TourismAIService:
    def get_destination_info(self, location: str) -> Dict[str, Any]:
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Cache Ø£ÙˆÙ„Ø§Ù‹
        cached_data = TourismCacheService.get_cached_info(location)
        if cached_data:
            logger.info(f"Using cached data for {location}")
            return cached_data

        # Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©ØŒ Ø§Ø³ØªØ¯Ø¹ÙŠ AI
        try:
            prompt = self._create_tourism_prompt(location)
            response = self._call_openrouter_api(prompt)

            if response:
                tourism_data = self._parse_ai_response(response)
                # Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙÙŠ Cache
                TourismCacheService.cache_info(location, tourism_data)
                return tourism_data
            else:
                return self._get_fallback_data(location)

        except Exception as e:
            logger.error(f"Error getting destination info for {location}: {str(e)}")
            return self._get_fallback_data(location)
```

### 2. Background Tasks with Celery:

```python
# trip/tasks.py
from celery import shared_task
from .models import Trip
from .ai_services import TourismAIService

@shared_task
def update_trip_tourism_info(trip_id):
    """ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ© Ù„Ù„Ø±Ø­Ù„Ø© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©"""
    try:
        trip = Trip.objects.get(id=trip_id)

        if trip.location and not trip.tourism_info:
            ai_service = TourismAIService()
            tourism_data = ai_service.get_destination_info(trip.location)

            trip.country = tourism_data.get('country', '')
            trip.city = tourism_data.get('city', '')
            trip.tourism_info = tourism_data.get('tourism_info', {})
            trip.save()

            return f"Updated tourism info for trip {trip_id}"
    except Trip.DoesNotExist:
        return f"Trip {trip_id} not found"
    except Exception as e:
        return f"Error updating trip {trip_id}: {str(e)}"

@shared_task
def batch_update_tourism_info():
    """ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„ØªÙŠ ØªÙØªÙ‚Ø± Ù„Ù‡Ø§"""
    trips_without_info = Trip.objects.filter(
        tourism_info__isnull=True
    ).exclude(location='')

    for trip in trips_without_info:
        update_trip_tourism_info.delay(trip.id)

    return f"Queued {trips_without_info.count()} trips for tourism info update"
```

### 3. API Rate Limiting:

```python
# trip/throttles.py
from rest_framework.throttling import UserRateThrottle

class TripCreateThrottle(UserRateThrottle):
    scope = 'trip_create'
    rate = '10/hour'  # 10 Ø±Ø­Ù„Ø§Øª ÙÙŠ Ø§Ù„Ø³Ø§Ø¹Ø©

class AIServiceThrottle(UserRateThrottle):
    scope = 'ai_service'
    rate = '50/day'  # 50 Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ AI ÙÙŠ Ø§Ù„ÙŠÙˆÙ…

# settings.py
REST_FRAMEWORK = {
    'DEFAULT_THROTTLE_CLASSES': [
        'rest_framework.throttling.AnonRateThrottle',
        'rest_framework.throttling.UserRateThrottle'
    ],
    'DEFAULT_THROTTLE_RATES': {
        'anon': '100/day',
        'user': '1000/day',
        'trip_create': '10/hour',
        'ai_service': '50/day'
    }
}

# ÙÙŠ views.py
class TripCreateAPIView(generics.CreateAPIView):
    throttle_classes = [TripCreateThrottle, AIServiceThrottle]
```

### 4. Advanced Search with Elasticsearch:

```python
# search/elasticsearch_service.py
from elasticsearch import Elasticsearch
from django.conf import settings

class TripSearchService:
    def __init__(self):
        self.es = Elasticsearch([settings.ELASTICSEARCH_URL])
        self.index_name = 'trips'

    def index_trip(self, trip):
        """ÙÙ‡Ø±Ø³Ø© Ø±Ø­Ù„Ø© ÙÙŠ Elasticsearch"""
        doc = {
            'id': trip.id,
            'caption': trip.caption,
            'location': trip.location,
            'country': trip.country,
            'city': trip.city,
            'user': trip.user.username,
            'created_at': trip.created_at,
            'tourism_places': trip.tourism_info.get('recommended_places', []),
            'tourism_description': trip.tourism_info.get('description', ''),
        }

        self.es.index(
            index=self.index_name,
            id=trip.id,
            body=doc
        )

    def search_trips(self, query, filters=None):
        """Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø±Ø­Ù„Ø§Øª"""
        search_body = {
            'query': {
                'multi_match': {
                    'query': query,
                    'fields': [
                        'caption^2',
                        'location^2',
                        'country',
                        'city',
                        'tourism_description',
                        'tourism_places'
                    ]
                }
            },
            'sort': [
                {'created_at': {'order': 'desc'}}
            ]
        }

        if filters:
            search_body['query'] = {
                'bool': {
                    'must': [search_body['query']],
                    'filter': filters
                }
            }

        return self.es.search(
            index=self.index_name,
            body=search_body
        )
```

---

## ğŸ“Š Analytics and Monitoring

### 1. Custom Metrics:

```python
# trip/metrics.py
from django.db.models import Count, Avg
from django.utils import timezone
from datetime import timedelta

class TripAnalytics:
    @staticmethod
    def get_popular_destinations():
        """Ø£ÙƒØ«Ø± Ø§Ù„ÙˆØ¬Ù‡Ø§Øª Ø´Ø¹Ø¨ÙŠØ©"""
        return Trip.objects.values('country', 'city')\
            .annotate(trip_count=Count('id'))\
            .order_by('-trip_count')[:10]

    @staticmethod
    def get_ai_usage_stats():
        """Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ø³ØªØ®Ø¯Ø§Ù… AI"""
        total_trips = Trip.objects.count()
        trips_with_ai = Trip.objects.exclude(tourism_info={}).count()

        return {
            'total_trips': total_trips,
            'trips_with_ai_info': trips_with_ai,
            'ai_usage_percentage': (trips_with_ai / total_trips * 100) if total_trips > 0 else 0
        }

    @staticmethod
    def get_weekly_trip_stats():
        """Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©"""
        week_ago = timezone.now() - timedelta(days=7)

        return Trip.objects.filter(created_at__gte=week_ago)\
            .extra({'day': 'date(created_at)'})\
            .values('day')\
            .annotate(count=Count('id'))\
            .order_by('day')
```

### 2. Logging Configuration:

```python
# settings.py
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'formatters': {
        'verbose': {
            'format': '{levelname} {asctime} {module} {process:d} {thread:d} {message}',
            'style': '{',
        },
        'simple': {
            'format': '{levelname} {message}',
            'style': '{',
        },
    },
    'handlers': {
        'file': {
            'level': 'INFO',
            'class': 'logging.FileHandler',
            'filename': 'logs/rahala.log',
            'formatter': 'verbose',
        },
        'console': {
            'level': 'DEBUG',
            'class': 'logging.StreamHandler',
            'formatter': 'simple',
        },
        'ai_service': {
            'level': 'INFO',
            'class': 'logging.FileHandler',
            'filename': 'logs/ai_service.log',
            'formatter': 'verbose',
        },
    },
    'loggers': {
        'trip.ai_services': {
            'handlers': ['ai_service', 'console'],
            'level': 'INFO',
            'propagate': False,
        },
        'trip.views': {
            'handlers': ['file', 'console'],
            'level': 'INFO',
            'propagate': False,
        },
    },
}
```

---

## ğŸ”’ Security Best Practices

### 1. Input Validation:

```python
# trip/validators.py
from django.core.exceptions import ValidationError
import re

def validate_location_format(location):
    """Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙŠØºØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹"""
    if not location:
        raise ValidationError("Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø·Ù„ÙˆØ¨")

    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø·ÙˆÙ„
    if len(location) > 255:
        raise ValidationError("Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø·ÙˆÙŠÙ„ Ø¬Ø¯Ø§Ù‹")

    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ø­Ø±Ù Ø§Ù„Ù…Ø³Ù…ÙˆØ­Ø©
    if not re.match(r'^[a-zA-Z\u0600-\u06FF\s,.-]+$', location):
        raise ValidationError("Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø­Ø±Ù ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­Ø©")

def validate_caption_content(caption):
    """Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚"""
    if not caption:
        return  # Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø§Ø®ØªÙŠØ§Ø±ÙŠ

    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø·ÙˆÙ„
    if len(caption) > 1000:
        raise ValidationError("Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø·ÙˆÙŠÙ„ Ø¬Ø¯Ø§Ù‹")

    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø­Ø¸ÙˆØ±
    forbidden_words = ['spam', 'scam', 'fake']
    for word in forbidden_words:
        if word.lower() in caption.lower():
            raise ValidationError(f"Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙƒÙ„Ù…Ø§Øª Ù…Ø­Ø¸ÙˆØ±Ø©: {word}")
```

### 2. API Security:

```python
# trip/permissions.py
from rest_framework.permissions import BasePermission

class IsOwnerOrReadOnly(BasePermission):
    """Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ù„Ù…Ø§Ù„Ùƒ ÙÙ‚Ø·"""

    def has_object_permission(self, request, view, obj):
        # Ù‚Ø±Ø§Ø¡Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹
        if request.method in ['GET', 'HEAD', 'OPTIONS']:
            return True

        # ÙƒØªØ§Ø¨Ø© Ù„Ù„Ù…Ø§Ù„Ùƒ ÙÙ‚Ø·
        return obj.user == request.user

class IsVerifiedUserOrReadOnly(BasePermission):
    """Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØªØ­Ù‚Ù‚ÙŠÙ† ÙÙ‚Ø·"""

    def has_permission(self, request, view):
        if request.method in ['GET', 'HEAD', 'OPTIONS']:
            return True

        return request.user.is_authenticated and request.user.is_verified
```

### 3. File Upload Security:

```python
# trip/utils.py
from PIL import Image
import os

def validate_and_process_image(image_file):
    """Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙˆØ±Ø© ÙˆÙ…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§"""

    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù
    allowed_types = ['image/jpeg', 'image/png', 'image/webp']
    if image_file.content_type not in allowed_types:
        raise ValidationError("Ù†ÙˆØ¹ Ø§Ù„ØµÙˆØ±Ø© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…")

    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù (5MB max)
    if image_file.size > 5 * 1024 * 1024:
        raise ValidationError("Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹")

    try:
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„ØµÙˆØ±Ø©
        img = Image.open(image_file)
        img.verify()

        # Ø¥Ø¹Ø§Ø¯Ø© ÙØªØ­ Ø§Ù„ØµÙˆØ±Ø© Ù„Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
        image_file.seek(0)
        img = Image.open(image_file)

        # ØªØµØºÙŠØ± Ø§Ù„ØµÙˆØ±Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ÙƒØ¨ÙŠØ±Ø©
        max_size = (1920, 1080)
        if img.size[0] > max_size[0] or img.size[1] > max_size[1]:
            img.thumbnail(max_size, Image.Resampling.LANCZOS)

        return img

    except Exception as e:
        raise ValidationError(f"Ø§Ù„ØµÙˆØ±Ø© ØªØ§Ù„ÙØ©: {str(e)}")
```

---

## ğŸš€ Performance Optimization

### 1. Database Optimization:

```python
# trip/models.py
class Trip(models.Model):
    # ... Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©

    class Meta:
        indexes = [
            models.Index(fields=['created_at']),
            models.Index(fields=['country', 'city']),
            models.Index(fields=['user', 'created_at']),
        ]
        ordering = ['-created_at']

# trip/views.py
class TripListAPIView(generics.ListAPIView):
    def get_queryset(self):
        return Trip.objects.select_related('user')\
            .prefetch_related('images', 'videos', 'tags')\
            .order_by('-created_at')
```

### 2. API Response Optimization:

```python
# trip/serializers.py
class TripListSerializer(serializers.ModelSerializer):
    """Serializer Ù…Ø­Ø³Ù† Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø­Ù„Ø§Øª"""
    user = serializers.StringRelatedField()
    images_count = serializers.SerializerMethodField()
    videos_count = serializers.SerializerMethodField()

    class Meta:
        model = Trip
        fields = [
            'id', 'user', 'caption', 'location',
            'country', 'city', 'created_at',
            'images_count', 'videos_count'
        ]

    def get_images_count(self, obj):
        return obj.images.count()

    def get_videos_count(self, obj):
        return obj.videos.count()

class TripDetailSerializer(serializers.ModelSerializer):
    """Serializer Ù…ÙØµÙ„ Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø±Ø­Ù„Ø©"""
    images = TripImageSerializer(many=True, read_only=True)
    videos = TripVideoSerializer(many=True, read_only=True)
    tags = TripTagSerializer(many=True, read_only=True)
    user = UserSerializer(read_only=True)

    class Meta:
        model = Trip
        fields = '__all__'
```

---

## ğŸ“š Additional Resources

### Useful Libraries:
```bash
# Ø¥Ø¶Ø§ÙÙŠØ© Ù…ÙÙŠØ¯Ø©
pip install django-extensions      # Ø£Ø¯ÙˆØ§Øª ØªØ·ÙˆÙŠØ± Ø¥Ø¶Ø§ÙÙŠØ©
pip install django-debug-toolbar   # Ø£Ø¯Ø§Ø© debug
pip install django-silk           # profiling Ù„Ù„Ø£Ø¯Ø§Ø¡
pip install celery               # Ù…Ù‡Ø§Ù… Ø®Ù„ÙÙŠØ©
pip install redis               # cache Ùˆmessage broker
pip install elasticsearch      # Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù…
```

### Environment Variables Template:
```env
# .env.example
SECRET_KEY=your-secret-key-here
DEBUG=True
DATABASE_URL=postgresql://user:pass@localhost:5432/rahala_db

# Email
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# Google OAuth2
GOOGLE_OAUTH2_CLIENT_ID=your-google-client-id
GOOGLE_OAUTH2_CLIENT_SECRET=your-google-client-secret

# OpenRouter AI
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-key
OPENROUTER_MODEL=gpt-oss-20b

# PayMob
PAYMOB_API_KEY=your-paymob-key
PAYMOB_INTEGRATION_ID=your-integration-id

# Redis
REDIS_URL=redis://localhost:6379/0

# Elasticsearch (optional)
ELASTICSEARCH_URL=http://localhost:9200
```

---

**ğŸ¯ Ù‡Ø°Ø§ Ø§Ù„Ø¯Ù„ÙŠÙ„ ÙŠÙˆÙØ± ÙƒÙ„ Ù…Ø§ ØªØ­ØªØ§Ø¬Ù‡ Ù„ØªØ·ÙˆÙŠØ± ÙˆØµÙŠØ§Ù†Ø© Ù…Ø´Ø±ÙˆØ¹ Rahala Ø¨ÙƒÙØ§Ø¡Ø© Ø¹Ø§Ù„ÙŠØ©!**
